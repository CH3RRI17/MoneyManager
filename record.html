<!DOCTYPE html>
<html lang="en" class="bg-[#222] text-white">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Record v22.50</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

  <div class="w-full max-w-md space-y-4">

    <!-- Tabs -->
    <div class="flex justify-between border-b border-gray-600">
      <button onclick="setTab('expense')" id="expense-tab" class="flex-1 text-center py-2 font-semibold">Expense</button>
      <button onclick="setTab('income')" id="income-tab" class="flex-1 text-center py-2 font-semibold">Income</button>
      <button onclick="setTab('transfer')" id="transfer-tab" class="flex-1 text-center py-2 font-semibold">Transfer</button>
    </div>

    <!-- Forms -->
    <form id="expense-form" class="space-y-4">
      <div>
        <label>Date</label>
        <input type="date" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <button type="button" onclick="showRepeatOptions()" class="text-[#ff4444] text-sm underline">Repeat</button>

      <div>
        <label>Account</label>
        <select class="w-full bg-[#333] p-2 rounded">
          <option>Select Account</option>
          <option>Mashreq</option>
          <option>ENBD</option>
          <option>Cash Wallet</option>
        </select>
      </div>

      <div>
        <label>Amount</label>
        <input type="number" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div>
        <label>Category</label>
        <input type="text" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div>
        <label>Paid to</label>
        <input id="paid-to" type="text" class="w-full bg-[#333] p-2 rounded" autocomplete="off" />
        <div id="paid-to-suggestions" class="text-sm text-gray-400 mt-1"></div>
      </div>

      <div>
        <label>Description</label>
        <input type="text" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div class="flex gap-2 justify-end">
        <button type="reset" class="px-4 py-2 bg-gray-600 rounded">Reset</button>
        <button type="submit" class="px-4 py-2 bg-[#ff4444] rounded">Save</button>
      </div>
    </form>

    <form id="income-form" class="space-y-4 hidden">
      <div>
        <label>Date</label>
        <input type="date" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <button type="button" onclick="showRepeatOptions()" class="text-[#ff4444] text-sm underline">Repeat</button>

      <div>
        <label>Account</label>
        <select class="w-full bg-[#333] p-2 rounded">
          <option>Select Account</option>
          <option>Mashreq</option>
          <option>ENBD</option>
          <option>Cash Wallet</option>
        </select>
      </div>

      <div>
        <label>Amount</label>
        <input type="number" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div>
        <label>Category</label>
        <input type="text" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div>
        <label>Received from</label>
        <input id="received-from" type="text" class="w-full bg-[#333] p-2 rounded" autocomplete="off" />
        <div id="received-from-suggestions" class="text-sm text-gray-400 mt-1"></div>
      </div>

      <div>
        <label>Description</label>
        <input type="text" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div class="flex gap-2 justify-end">
        <button type="reset" class="px-4 py-2 bg-gray-600 rounded">Reset</button>
        <button type="submit" class="px-4 py-2 bg-[#22cc88] rounded">Save</button>
      </div>
    </form>

    <form id="transfer-form" class="space-y-4 hidden">
      <div>
        <label>Date</label>
        <input type="date" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <button type="button" onclick="showRepeatOptions()" class="text-[#ff4444] text-sm underline">Repeat</button>

      <div>
        <label>Amount</label>
        <input type="number" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div>
        <label>From</label>
        <select class="w-full bg-[#333] p-2 rounded">
          <option>Select Account</option>
          <option>Mashreq</option>
          <option>ENBD</option>
          <option>Cash Wallet</option>
        </select>
      </div>

      <div>
        <label>To</label>
        <select class="w-full bg-[#333] p-2 rounded">
          <option>Select Account</option>
          <option>Mashreq</option>
          <option>ENBD</option>
          <option>Cash Wallet</option>
        </select>
      </div>

      <div>
        <label>Note</label>
        <input type="text" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div>
        <label>Description</label>
        <input type="text" class="w-full bg-[#333] p-2 rounded" />
      </div>

      <div class="flex gap-2 justify-end">
        <button type="reset" class="px-4 py-2 bg-gray-600 rounded">Reset</button>
        <button type="submit" class="px-4 py-2 bg-blue-600 rounded">Save</button>
      </div>
    </form>

    <!-- Repeat Options Bottom Sheet -->
    <div id="repeat-options" class="fixed bottom-0 left-0 right-0 bg-[#333] border-t border-[#444] hidden p-4">
      <div class="space-y-2">
        <button onclick="showInstallment()" class="w-full bg-[#444] p-2 rounded">Installment</button>
        <button onclick="showRepeatSelect()" class="w-full bg-[#444] p-2 rounded">Repeat</button>
        <button onclick="hideAllRepeat()" class="w-full text-gray-400 mt-2">Cancel</button>
      </div>
    </div>

    <!-- Installment Input -->
    <div id="installment-input" class="fixed bottom-0 left-0 right-0 bg-[#333] border-t border-[#444] hidden p-4">
      <label>Monthly Installments</label>
      <input type="number" class="w-full bg-[#444] p-2 rounded mb-2" />
      <div class="flex justify-between">
        <button onclick="hideAllRepeat()" class="bg-gray-600 px-4 py-2 rounded">Cancel</button>
        <button onclick="hideAllRepeat()" class="bg-[#ff4444] px-4 py-2 rounded">Save</button>
      </div>
    </div>

    <!-- Repeat Select -->
    <div id="repeat-select" class="fixed bottom-0 left-0 right-0 bg-[#333] border-t border-[#444] hidden p-4 space-y-2">
      <button class="w-full bg-[#444] p-2 rounded">Every Day</button>
      <button class="w-full bg-[#444] p-2 rounded">Weekdays</button>
      <button class="w-full bg-[#444] p-2 rounded">Weekends</button>
      <button class="w-full bg-[#444] p-2 rounded">Every Week</button>
      <button onclick="hideAllRepeat()" class="w-full text-gray-400 mt-2">Cancel</button>
    </div>

  </div>

  <script>
    let suggestions = ['Amazon', 'Apple', 'Spotify', 'Noon', 'Carrefour'];

    function setTab(tab) {
      document.querySelectorAll("form").forEach(f => f.classList.add("hidden"));
      document.getElementById("expense-form").classList.toggle("hidden", tab !== 'expense');
      document.getElementById("income-form").classList.toggle("hidden", tab !== 'income');
      document.getElementById("transfer-form").classList.toggle("hidden", tab !== 'transfer');

      document.getElementById("expense-tab").classList.remove("border-b-2", "border-[#ff4444]", "text-[#ff4444]");
      document.getElementById("income-tab").classList.remove("border-b-2", "border-[#22cc88]", "text-[#22cc88]");
      document.getElementById("transfer-tab").classList.remove("border-b-2", "border-blue-500", "text-blue-400");

      if (tab === 'expense') {
        document.getElementById("expense-tab").classList.add("border-b-2", "border-[#ff4444]", "text-[#ff4444]");
      } else if (tab === 'income') {
        document.getElementById("income-tab").classList.add("border-b-2", "border-[#22cc88]", "text-[#22cc88]");
      } else {
        document.getElementById("transfer-tab").classList.add("border-b-2", "border-blue-500", "text-blue-400");
      }
    }

    function showRepeatOptions() {
      document.getElementById("repeat-options").classList.remove("hidden");
    }

    function showInstallment() {
      document.getElementById("repeat-options").classList.add("hidden");
      document.getElementById("installment-input").classList.remove("hidden");
    }

    function showRepeatSelect() {
      document.getElementById("repeat-options").classList.add("hidden");
      document.getElementById("repeat-select").classList.remove("hidden");
    }

    function hideAllRepeat() {
      document.getElementById("repeat-options").classList.add("hidden");
      document.getElementById("installment-input").classList.add("hidden");
      document.getElementById("repeat-select").classList.add("hidden");
    }

    function addLiveSuggestions(inputId, suggestionId) {
      const input = document.getElementById(inputId);
      const container = document.getElementById(suggestionId);
      input.addEventListener('input', () => {
        const value = input.value.toLowerCase();
        const filtered = suggestions.filter(s => s.toLowerCase().includes(value));
        container.innerHTML = filtered.map(f => `<div class="cursor-pointer hover:text-white" onclick="document.getElementById('${inputId}').value='${f}';document.getElementById('${suggestionId}').innerHTML=''">${f}</div>`).join('');
      });
    }

    addLiveSuggestions('paid-to', 'paid-to-suggestions');
    addLiveSuggestions('received-from', 'received-from-suggestions');

    setTab('expense');
  </script>
</body>
</html>
